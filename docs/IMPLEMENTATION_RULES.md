# 구현 규칙 (Implementation Rules)

본 문서는 컴포넌트/섹션 추가·수정 시 재사용 우선 원칙과 탐색·삽입 절차를 정의합니다. 실수를 줄이고 일관된 사용자 경험과 코드 품질을 보장하기 위함입니다.

## 1) 재사용 우선 원칙
- 신규 컴포넌트를 만들기 전에 반드시 다음 순서로 재사용 가능 여부를 확인합니다:
  1. 동일/유사 UI가 이미 존재하는지 탐색 (`components/`, `components/landing/`)
  2. 동일/유사 로직(훅/유틸)이 있는지 탐색 (`context/`, `lib/`)
  3. 변형만으로 해결 가능한지 판단(프롭/슬롯/클래스 확장)
- 재사용 가능하면 “기존 컴포넌트 확장”을 최우선으로 합니다. 신규 생성은 최후의 수단입니다.

## 2) 변경 전 탐색 체크리스트
- 의미 기반 검색으로 전반 탐색 후, 정확 일치 검색으로 재확인합니다.
  - 의미 검색: “어디서 X를 렌더링하나?”, “비디오 섹션 위치?”
  - 정확 검색: 파일/심볼/태그(`video`, `TreeVisualization`, `landing-1.mov` 등)
- 페이지 흐름 확인: `app/page.tsx`에서 섹션 배치 순서를 먼저 이해합니다.
- 300줄 제한 준수: 파일이 비대해지면 즉시 분리 (`CODE_GUIDELINES.md` 참조)

## 3) 섹션 삽입 규칙
- “기존 패턴 유지”를 최우선으로 합니다.
  - 여백·그리드·경계선·그림자 등은 인접 섹션의 유틸리티 클래스를 그대로 사용합니다.
  - `DecorativeRail` 등 반복 패턴은 동일하게 배치합니다.
- 배치 위치는 다음 원칙을 따릅니다:
  - 사용자가 특정 앵커를 지시한 경우: 해당 컴포넌트 바로 아래(또는 위)에 삽입
  - 지시가 모호한 경우: 연관성이 가장 높은 섹션 하단에 삽입하고, PR 본문에 근거를 기록

## 4) 미디어(이미지/비디오) 규칙
- 자산 경로는 반드시 `public/` 하위에 두고, 기존 규칙을 따릅니다.
  - 예: 비디오 → `public/videos/landing-*.mov`
- `<video>` 기본 속성: `autoPlay`, `loop`, `muted`, `playsInline`
- 대체 텍스트/설명 제공(가능한 경우), 포스터 이미지가 필요하면 `poster` 사용
- 파일명은 의도를 드러내도록 작성(예: `landing-overview.mov`)

## 5) 반응형 & 접근성 원칙
- 고정 px 대신 반응형 유틸리티를 우선 사용합니다(사용자 선호 반영).
  - 예: `w-full`, `max-w-[min(100%,_720px)]`, `aspect-video`, 브레이크포인트 기반 간격(`sm:`, `md:`, `lg:`)
- 텍스트 대비, 포커스 가능한 요소의 접근성 고려(키보드 탐색 가능해야 함)

## 6) 커밋/PR 규칙(요약)
- 커밋 메시지: 명령형(예: `feat: add video section under TreeVisualization`)
- PR에는 다음을 포함합니다:
  - 변경 요약 및 삽입 근거
  - 실행한 검증: `npm run lint`, 수동 동작 확인
  - UI 변경 캡처/영상(가능하면)

## 7) 작업 절차(실무 플로우)
1. 요구사항 해석 → 재사용 후보 탐색(의미 검색 → 정확 검색)
2. 기존 컴포넌트 재사용/확장 시나리오 설계(프롭·조합)
3. 편집 전 파일 길이 확인(300줄 임계치)
4. 최소 범위의 편집으로 삽입(기존 유틸리티·클래스 재사용)
5. 린트/수동 검증 → 커밋/푸시 → 근거 포함하여 PR

## 8) 예시: “노드 밑에 영상 하나 더”
- 탐색: 기존 영상 블록이 `components/landing/landing-hero.tsx`에 존재함을 확인
- 결정: 새 파일 생성 대신 기존 영상 블록을 동일 스타일로 한 섹션 추가
- 삽입 위치: `TreeVisualization` 바로 아래 컨테이너 내부
- 결과: 반응형·스타일 일관성 유지, 불필요한 신규 컴포넌트 생성 방지

---
이 문서는 계속 개선됩니다. 규칙 위반이 의심되면 PR에서 근거와 함께 제안해 주세요.


